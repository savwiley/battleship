(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{2:function(e){e.exports=JSON.parse('[{"name":"Carrier","length":5,"coords":[],"targets":[1,2,3,4,5],"sunk":false},{"name":"Battleship","length":4,"coords":[],"targets":[1,2,3,4],"sunk":false},{"name":"Destroyer","length":3,"coords":[],"targets":[1,2,3],"sunk":false},{"name":"Submarine","length":3,"coords":[],"targets":[1,2,3],"sunk":false},{"name":"Patrol Boat","length":2,"coords":[],"targets":[1,2],"sunk":false}]')},31:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(16),s=n.n(c),o=n(11),u=n(3),i=n(5),l=n(2),d=function(e,t,n){var r;"human"===e?r=i.filter((function(e){return e.name===t})):"computer"===e&&(r=l.filter((function(e){return e.name===t})));var a=document.querySelector(".messenger"),c=r[0].targets.indexOf(n+1);if(r[0].targets.splice(c,1),0===r[0].targets.length&&(r[0].sunk=!0,"human"===e?a.textContent="Your ".concat(r[0].name," was sunk!"):"computer"===e&&(a.textContent="You sunk their ".concat(r[0].name,"!")),r[0].coords.map((function(t){var n;return"human"===e?Array.from(document.getElementsByClassName("grid playerGrid")).map((function(e){return n=e.querySelector("#".concat(t))})):"computer"===e&&Array.from(document.getElementsByClassName("grid aiGrid")).map((function(e){return n=e.querySelector("#".concat(t))})),n.classList.toggle("sunk")}))),"human"===e){for(var s=0,o=0;o<i.length;o++)!1===i[o].sunk?(o=i.length,s=0):s++;0!==s&&(a.textContent="You lost!")}if("computer"===e){for(var u=0,d=0;d<l.length;d++)!1===l[d].sunk?(d=l.length,u=0):u++;0!==u&&(a.textContent="You won!")}},m=function(e,t){var n=!1,r=[],a=[];return"human"===e?(i.map((function(e){for(var t=0;t<e.length;t++)r.push(e.coords[t]);return r})),r.map((function(e){return e===t?n=!0:null}))):"computer"===e&&(l.map((function(e){for(var t=0;t<e.length;t++)a.push(e.coords[t]);return a})),a.map((function(e){return e===t?n=!0:null}))),n},f=function(e,t,n,r){var a;"human"===e?a=i.filter((function(e){return e.name===t})):"computer"===e&&(a=l.filter((function(e){return e.name===t})));var c,s=["A","B","C","D","E","F","G","H","I","J"],o=r.split("");"human"===e?Array.from(document.getElementsByClassName("grid playerGrid")).map((function(e){return c=e.querySelector("#".concat(r))})):"computer"===e&&Array.from(document.getElementsByClassName("grid aiGrid")).map((function(e){return c=e.querySelector("#".concat(r))}));var u=Array.from(document.querySelectorAll(".ship")),f=document.querySelector(".messenger");function h(e){return!(e<0)&&!(e>9)}if("missed"===n)"square missed"===c.classList.value||"square placed attacked"===c.classList.value||"square placed attacked sunk"===c.classList.value?f.textContent="Already struck here!":c&&c.classList.toggle("missed");else if("attack"===n){var p=a[0].coords.indexOf(r);c&&(c.classList.toggle("attacked"),d(e,t,p))}else if(("placeV"===n||"placeH"===n)&&a[0].coords.length!==a[0].length){var g=[],j=[],v=0;if("placeV"===n)for(var x=0;x<a[0].length;x++){var y=h(o[1]);if(!0===y){var b=o[0]+o[1];g.push(b),o[1]++}else!1===y&&"human"===e?(f.textContent="Ships can't leave grid!",g=[],x=a[0].length,u.map((function(e){return e.textContent===a[0].name&&(e.style.outline="1px solid #fff"),e}))):!1===y&&"computer"===e&&(g=[],x=a[0].length)}else if("placeH"===n)for(var O=s.findIndex((function(e){return e===o[0]})),k=0;k<a[0].length;k++){var C=h(O);if(!0===C){var N=s[O]+o[1];g.push(N),O++}else!1===C&&"human"===e?(f.textContent="Ships can't leave grid!",g=[],k=a[0].length,u.map((function(e){return e.textContent===a[0].name&&(e.style.outline="1px solid #fff"),e}))):!1===C&&"computer"===e&&(g=[],k=a[0].length)}g.map((function(t){return"human"===e?j.push(m("human",t)):j.push(m("computer",t))})),j.map((function(e){return!0===e?v++:v})),0===v?g.map((function(e){return a[0].coords.push(e)})):0!==v&&"human"===e&&(f.textContent="Ships can't overlap!",u.map((function(e){return e.textContent===a[0].name?e.style.outline="1px solid #fff":e}))),a[0].coords.map((function(e){return document.querySelectorAll("#".concat(e))[0].classList.toggle("placed")}))}},h=n(1),p=function(e){var t=e.place,n=e.ship,a=["A","B","C","D","E","F","G","H","I","J"],c=0;return Object(r.useEffect)((function(){var e=Array.from(document.querySelectorAll(".square")),r=document.querySelector(".grid"),a=Array.from(document.querySelectorAll(".ship")),s=document.querySelector(".playBtn");s.style.display="none";r&&e&&e.map((function(e){return e.addEventListener("click",(function(){!function(e){n.current?(f("human",n.current,t.current,e.id),a.map((function(e){return e.textContent===n.current&&i.map((function(t){return e.textContent===t.name&&t.coords.length===t.length&&(e.style.background="#929292",e.style.color="#616161",e.style.outline="1px solid #fff",c++),t})),e})),5===c&&(s.style.display="block"),n.current=null):alert("Please choose a ship!")}(e)}))}))})),Object(h.jsx)("div",{className:"grid",children:a.map((function(e){return a.map((function(t){return Object(h.jsx)("div",{className:"square",id:t+a.indexOf(e)},t+a.indexOf(e))}))}))})},g=function(){return Object(h.jsxs)("div",{className:"header",children:["Battleship",Object(h.jsx)("a",{href:"https://github.com/savwiley/battleship",className:"credit",children:"github"})]})},j=function(){return Object(h.jsx)("div",{className:"infoBoard",children:Object(h.jsx)("div",{className:"messenger",children:"Place your ships with the menu below! Click on 'Play Game' when the button appears and attack the computer's board. Good luck and have fun!"})})};var v=function(){var e=Object(r.useRef)("placeH"),t=Object(r.useRef)();return Object(r.useEffect)((function(){var t=document.querySelector(".directionBtn");t&&t.addEventListener("click",(function(){"placeH"===e.current?(t.textContent="Place Ships Horizontally",e.current="placeV"):"placeV"===e.current&&(t.textContent="Place Ships Vertically",e.current="placeH")}))})),Object(r.useEffect)((function(){var e=Array.from(document.querySelectorAll(".ship"));e&&e.map((function(n){return n.addEventListener("click",(function(){e.map((function(e){return e.style.outline="1px solid #fff",e})),function(e){t.current=e.textContent}(n),n.style.outline="1px solid #0f0"}))}))})),Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(g,{}),Object(h.jsx)(j,{}),Object(h.jsx)(p,{place:e,ship:t}),Object(h.jsxs)("div",{className:"menu",children:[Object(h.jsx)("button",{className:"directionBtn",children:"Place Ships Vertically"}),Object(h.jsxs)("div",{className:"shipContainer",children:[Object(h.jsx)("div",{className:"ship",children:"Carrier"}),Object(h.jsx)("div",{className:"ship",children:"Battleship"}),Object(h.jsx)("div",{className:"ship",children:"Destroyer"}),Object(h.jsx)("div",{className:"ship",children:"Submarine"}),Object(h.jsx)("div",{className:"ship",children:"Patrol Boat"})]}),Object(h.jsx)(o.b,{to:"/Game",children:Object(h.jsx)("div",{className:"playBtn",children:"Play Game!"})})]})]})},x=function(){var e=["A","B","C","D","E","F","G","H","I","J"],t=[];return i.map((function(e){for(var n=0;n<e.length;n++)t.push(e.coords[n]);return t})),Object(r.useEffect)((function(){for(var e=0;e<t.length;e++){var n=document.querySelector("#".concat(t[e]));n&&n.classList.toggle("placed")}})),Object(h.jsx)("div",{className:"grid playerGrid",children:e.map((function(t){return e.map((function(n){return Object(h.jsx)("div",{className:"square",id:n+e.indexOf(t)},n+e.indexOf(t))}))}))})},y=function e(){var t,n=["A","B","C","D","E","F","G","H","I","J"];Array.from(document.getElementsByClassName("grid playerGrid")).map((function(e){return t=e.querySelector("#".concat(function(){try{var e=Math.floor(10*Math.random());return n[e]+Math.floor(10*Math.random())}catch(t){t instanceof RangeError&&alert("Game Over")}}()))}));var r=document.querySelector(".messenger");"square placed"===t.className||"square"===t.className?function(){var e,n="missed";"square placed"===t.className&&(n="attack");for(var a=function(n){i[n].coords.map((function(r){return r===t.id&&(e=i[n].name),e}))},c=0;c<i.length;c++)a(c);f("human",e,n,t.id),"missed"===n?r.textContent="Computer attacks ".concat(t.id,". They missed!"):"attack"===n&&(r.textContent="Computer attacks ".concat(t.id,". It's a hit!"))}():e()},b=function(){var e=["A","B","C","D","E","F","G","H","I","J"],t=[];return l.map((function(e){for(var n=0;n<e.length;n++)t.push(e.coords[n]);return t})),Object(r.useEffect)((function(){for(var e=0;e<t.length;e++){var n=document.querySelector(".aiGrid");if(n){var r=n.querySelector("#".concat(t[e]));r&&r.classList.toggle("placed")}}})),Object(r.useEffect)((function(){var e,t=Array.from(document.getElementsByClassName("grid aiGrid"));t.map((function(t){return e=Array.from(t.querySelectorAll(".square"))}));var n=function(e,t,n){"square"!==e.className&&"square placed"!==e.className||y(),f("computer",t,n,e.id)};t&&e&&e.map((function(e){return e.addEventListener("click",(function(){for(var t=0,r=0;r<l.length;r++)!1===l[r].sunk?(r=l.length,t=0):t++;if(0===t){var a=function(){var t=0,r="missed";"square placed"===e.className&&(r="attack");for(var a=function(n){l[n].coords.map((function(r){return r===e.id&&(t=n),t}))},c=0;c<l.length;c++)a(c);return{v:n(e,l[t].name,r)}}();if("object"===typeof a)return a.v}}))}))})),Object(h.jsx)("div",{className:"grid aiGrid",children:e.map((function(t){return e.map((function(n){return Object(h.jsx)("div",{className:"square",id:n+e.indexOf(t),children:n+e.indexOf(t)},n+e.indexOf(t))}))}))})},O=function(){for(var e=["A","B","C","D","E","F","G","H","I","J"],t=function(){var t=Math.floor(10*Math.random());return e[t]+Math.floor(10*Math.random())},n=function(){var e=Math.floor(2*Math.random());return 0===e?"placeV":1===e?"placeH":void 0},r=function(){for(var e=0;e<l.length;e++)if(l[e].coords.length!==l[e].length){var t=l[e];return e=l.length,t.name}};2!==l[4].coords.length;)f("computer",r(),n(),t());return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(g,{}),Object(h.jsx)(j,{}),Object(h.jsxs)("div",{className:"names",children:[Object(h.jsx)("div",{id:"playerName",children:"your board"}),Object(h.jsx)("div",{id:"compName",children:"computer board"})]}),Object(h.jsx)(x,{}),Object(h.jsx)(b,{})]})},k=function(){return Object(h.jsx)(o.a,{basename:"/",children:Object(h.jsxs)(u.c,{children:[Object(h.jsx)(u.a,{exact:!0,path:"/",render:function(){return Object(h.jsx)(v,{})}}),Object(h.jsx)(u.a,{exact:!0,path:"/Game",render:function(){return Object(h.jsx)(O,{})}})]})})};n(31);s.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(k,{})}),document.getElementById("root"))},5:function(e){e.exports=JSON.parse('[{"name":"Carrier","length":5,"coords":[],"targets":[1,2,3,4,5],"sunk":false},{"name":"Battleship","length":4,"coords":[],"targets":[1,2,3,4],"sunk":false},{"name":"Destroyer","length":3,"coords":[],"targets":[1,2,3],"sunk":false},{"name":"Submarine","length":3,"coords":[],"targets":[1,2,3],"sunk":false},{"name":"Patrol Boat","length":2,"coords":[],"targets":[1,2],"sunk":false}]')}},[[32,1,2]]]);
//# sourceMappingURL=main.af2a034d.chunk.js.map